(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=t((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n(i,"dom",{modalbg:document.querySelector(".bground"),modalBtn:document.querySelectorAll(".modal-btn"),closeBtn:document.querySelector(".close"),closeConfirm:document.querySelector(".close-confirm"),modalConfirm:document.querySelector(".confirm-modal"),form:document.getElementsByName("reserve")[0]}),n(i,"launchModalEvent",(function(){i.dom.modalBtn.forEach((function(e){return e.addEventListener("click",i.launchModal)})),i.dom.closeBtn.addEventListener("click",i.closeModal),i.dom.closeBtn.addEventListener("click",i.closeConfirm),i.dom.closeConfirm.addEventListener("click",i.closeConfirm)})),n(i,"launchModal",(function(){return i.dom.modalbg.style.display="block"})),n(i,"closeModal",(function(){return i.dom.modalbg.style.display="none"})),n(i,"closeConfirm",(function(){i.closeModal(),i.dom.form.style.display="block",i.dom.modalConfirm.style.display="none",i.dom.modalConfirm.classList.remove("confirm-message")})),n(i,"validation",(function(){i.dom.form.style.display="none",i.dom.modalConfirm.style.display="block",i.dom.modalConfirm.classList.add("confirm-message")}));var s=new WeakMap,c=r((function e(t,n){var i,o,r,c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={writable:!0,value:!0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,o=s),o.set(i,r),l(this,"getFormValid",(function(){return function(e,t){return t.get?t.get.call(e):t.value}(e=c,d(e,s,"get"));var e})),l(this,"setFormValid",(function(e){return function(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,d(e,t,"set"),n),n}(c,s,e)})),l(this,"nameValidation",(function(e){return/^([A-ZÀ-Ÿa-z-']{2,20})$/.test(e.value)})),l(this,"emailValidation",(function(e){return/^([a-z0-9_\.-]+\@[\da-z\.-]+\.[a-z\.]{2,6})$/.test(e.value)})),l(this,"numberValidation",(function(e){return/^[0-9]+$/.test(e.value)})),l(this,"radioValidation",(function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw r}}}}(e);try{for(n.s();!(t=n.n()).done;)if(t.value.checked)return!0}catch(e){n.e(e)}finally{n.f()}})),l(this,"checkboxValidation",(function(e){return e.checked})),l(this,"dateValidation",(function(e){return""!=e.value})),l(this,"resetValidation",(function(){c.setFormValid(!0),Array.from(c.fieldContainer).map((function(e){e.dataset.errorVisible=!1}))})),l(this,"invalidInputStyle",(function(e,t){e.parentNode.setAttribute("data-error-visible",!0),e.parentNode.setAttribute("data-error",t)})),l(this,"launchValidation",(function(){for(var e in c.resetValidation(),c.formFields)switch(c.formFields[e].validationType){case"name":c.nameValidation(c.formFields[e].element)||(c.invalidInputStyle(c.formFields[e].element,c.formFields[e].invalidMessage),c.setFormValid(!1));break;case"last":c.lastNameValidation(c.formFields[e].element)||(c.invalidInputStyle(c.formFields[e].element,c.formFields[e].invalidMessage),c.setFormValid(!1));break;case"email":c.emailValidation(c.formFields[e].element)||(c.invalidInputStyle(c.formFields[e].element,c.formFields[e].invalidMessage),c.setFormValid(!1));break;case"number":c.numberValidation(c.formFields[e].element)||(c.invalidInputStyle(c.formFields[e].element,c.formFields[e].invalidMessage),c.setFormValid(!1));break;case"radio":c.radioValidation(c.formFields[e].element)||(c.invalidInputStyle(c.formFields[e].element[0],c.formFields[e].invalidMessage),c.setFormValid(!1));break;case"checkbox":c.checkboxValidation(c.formFields[e].element)||(c.invalidInputStyle(c.formFields[e].element,c.formFields[e].invalidMessage),c.setFormValid(!1));break;case"date":c.dateValidation(c.formFields[e].element)||(c.invalidInputStyle(c.formFields[e].element,c.formFields[e].invalidMessage),c.setFormValid(!1))}return c.getFormValid()})),this.fieldContainer=t,this.formFields=n})),m={firstName:{element:document.getElementById("first"),validationType:"name",invalidMessage:"Veuillez entrer 2 caractères ou plus pour le champ du prénom."},lastName:{element:document.getElementById("last"),validationType:"name",invalidMessage:"Veuillez entrer 2 caractères ou plus pour le champ du nom."},email:{element:document.getElementById("email"),validationType:"email",invalidMessage:"Veuillez entrer une adresse mail valide."},birthdate:{element:document.getElementById("birthdate"),validationType:"date",invalidMessage:"Vous devez entrer votre date de naissance."},quantity:{element:document.getElementById("quantity"),validationType:"number",invalidMessage:"Veuillez entrer un nombre."},location:{element:document.querySelectorAll('input[name="location"]'),validationType:"radio",invalidMessage:"Veuillez selectionner une ville."},checkbox:{element:document.getElementById("checkbox1"),validationType:"checkbox",invalidMessage:"Vous devez vérifier que vous acceptez les termes et conditions."}},u=document.querySelectorAll(".formData");window.editNav=function(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},i.launchModalEvent();var f=new c(u,m),v=document.getElementsByName("reserve")[0];v.onsubmit=function(e){e.preventDefault(),console.log("Salut"),f.launchValidation()&&(v.reset(),i.validation())}})();
//# sourceMappingURL=app.js.map